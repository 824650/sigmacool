document.addEventListener("DOMContentLoaded",()=>{function e(e){if(null==(pins=localStorage.getItem("pinnedGames"))&&(pins=[]),t(e,pins=""==pins?[]:pins.split(",").map(Number))){let l=pins.indexOf(e);pins.splice(l,1)}else pins.push(e);localStorage.setItem("pinnedGames",pins),location.reload()}function t(e,t){if(""==t)return!1;for(var l=0;l<t.length;l++)if(t[l]===e)return!0;return!1}function l(){for(var e=Array.from(document.querySelectorAll("#category option:checked")).map(e=>e.value),t=document.getElementsByClassName("column"),l=0;l<t.length;l++){var n=t[l],a=n.getAttribute("data-category").split(" ");0===e.length||e.some(e=>a.includes(e))?n.style.display="block":n.style.display="none"}}function n(){for(var e=document.getElementById("searchbarbottom").value.toLowerCase(),t=document.getElementsByClassName("column"),l=0;l<t.length;l++){var n=t[l];n.getElementsByTagName("p")[0].textContent.toLowerCase().includes(e)?n.style.display="block":n.style.display="none"}}fetch("/assets/json/g.min.json").then(e=>e.json()).then(l=>{l.sort((e,t)=>e.name.localeCompare(t.name));let n=document.querySelector(".container-apps"),a=document.querySelector(".pinned-apps");var o=localStorage.getItem("pinnedGames");try{o=o.split(",").map(Number)}catch{}var i=0;l.forEach(l=>{let r=i,s=document.createElement("div");s.classList.add("column"),s.setAttribute("data-category",l.categories.join(" "));let d=document.createElement("i");d.classList.add("fa"),d.classList.add("fa-map-pin"),d.ariaHidden=!0;let c=document.createElement("button");c.appendChild(d),c.style.float="right",c.style.backgroundColor="rgb(45,45,45)",c.style.borderRadius="50%",c.style.borderColor="transparent",c.style.color="white",c.style.top="-200px",c.style.position="relative",c.onclick=function(){e(r)},c.title="Pin";let p=document.createElement("a");function m(e){sessionStorage.setItem("GoUrl",e)}function u(e){return void 0!==e.say&&alert(e.say),e.local?(m(e.link),window.location.href="1"):e.local2?(m(e.link),window.location.href=e.link):e.blank?blank(e.link):e.local||go(e.link),!1}p.onclick=function(){u(l)};let y=document.createElement("img");y.width=145,y.height=145,y.src=l.image,y.loading="lazy";let h=document.createElement("p");h.textContent=l.name,l.error&&(h.style.color="red"),p.appendChild(y),p.appendChild(h),s.appendChild(p),0!=i&&s.appendChild(c),null!=o&&0!=i&&t(i,o)?a.appendChild(s):n.appendChild(s),i++}),appsContainer.appendChild(a),appsContainer.appendChild(n)})});