function setPin(e){let t=localStorage.getItem("pinnedGames");if(null==t&&(t=[]),pinContains(e,t=""==t?[]:t.split(",").map(Number))){let n=t.indexOf(e);t.splice(n,1)}else t.push(e);localStorage.setItem("pinnedGames",t),location.reload()}function pinContains(e,t){if(""==t)return!1;for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function show_category(){for(var e=Array.from(document.querySelectorAll("#category option:checked")).map(e=>e.value),t=document.getElementsByClassName("column"),n=0;n<t.length;n++){var l=t[n],a=l.getAttribute("data-category").split(" ");0===e.length||e.some(e=>a.includes(e))?l.style.display="block":l.style.display="none"}}function search_bar(){for(var e=document.getElementById("searchbarbottom").value.toLowerCase(),t=document.getElementsByClassName("column"),n=0;n<t.length;n++){var l=t[n];l.getElementsByTagName("p")[0].textContent.toLowerCase().includes(e)?l.style.display="block":l.style.display="none"}}document.addEventListener("DOMContentLoaded",()=>{fetch("/assets/json/apps.min.json").then(e=>e.json()).then(e=>{e.sort((e,t)=>e.name.localeCompare(t.name));let t=document.querySelector(".container-apps"),n=document.querySelector(".pinned-apps");var l=localStorage.getItem("pinnedGames");try{l=l.split(",").map(Number)}catch{}var a=0;e.forEach(e=>{let o=a,i=document.createElement("div");i.classList.add("column"),i.setAttribute("data-category",e.categories.join(" "));let r=document.createElement("i");r.classList.add("fa","fa-map-pin"),r.ariaHidden=!0;let s=document.createElement("button");s.appendChild(r),s.style.float="right",s.style.backgroundColor="rgb(45,45,45)",s.style.borderRadius="50%",s.style.borderColor="transparent",s.style.color="white",s.style.top="-200px",s.style.position="relative",s.onclick=function(){setPin(o)},s.title="Pin";let c=document.createElement("a");function d(e){sessionStorage.setItem("GoUrl",e)}function p(e){return void 0!==e.say&&alert(e.say),e.local?(d(e.link),window.location.href="&"):e.local2?(d(e.link),window.location.href=e.link):e.blank?blank(e.link):e.now?now(e.link):go(e.link),!1}c.onclick=function(){p(e)};let m=document.createElement("img");m.width=145,m.height=145,m.src=e.image,m.loading="lazy";let y=document.createElement("p");y.textContent=e.name,e.error&&(y.style.color="red"),c.appendChild(m),c.appendChild(y),i.appendChild(c),0!=a&&i.appendChild(s),null!=l&&0!=a&&pinContains(a,l)?n.appendChild(i):t.appendChild(i),a++});let o=document.getElementById("apps-container");o.appendChild(n),o.appendChild(t)}).catch(e=>{console.error("Error fetching JSON data:",e)})});